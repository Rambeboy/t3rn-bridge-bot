const _0x2c50a2=_0x450a;(function(_0x3420ca,_0x215ee5){const _0x417229=_0x450a,_0x453df3=_0x3420ca();while(!![]){try{const _0x4ed708=-parseInt(_0x417229(0x1ce))/0x1*(parseInt(_0x417229(0x1db))/0x2)+-parseInt(_0x417229(0x1e5))/0x3*(parseInt(_0x417229(0x1e4))/0x4)+parseInt(_0x417229(0x1b5))/0x5*(-parseInt(_0x417229(0x1c6))/0x6)+parseInt(_0x417229(0x1b7))/0x7*(-parseInt(_0x417229(0x1ee))/0x8)+-parseInt(_0x417229(0x1d6))/0x9*(parseInt(_0x417229(0x1b1))/0xa)+parseInt(_0x417229(0x1da))/0xb+parseInt(_0x417229(0x1b9))/0xc;if(_0x4ed708===_0x215ee5)break;else _0x453df3['push'](_0x453df3['shift']());}catch(_0x58ee43){_0x453df3['push'](_0x453df3['shift']());}}}(_0x16e9,0x1b7ae));import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';function _0x16e9(){const _0x52423d=['CHAIN_ID','balance','wait','Wallet\x20connected\x20','Account\x20Type\x20:\x20','latest','Try\x20To\x20Executing\x20','BRIDGEAMOUNT','delay','stringify','acc','786xPRMHU','getTransactionCount','getBalance','fromPhrase','\x20Tx\x20Confirmed\x20and\x20Finalizing:\x20','arbProvider','Private\x20Key','RPC','1970RUfwYC','getOptimalNonce','\x20of\x20','executeTx','BASETOARBRAWDATA','info','serializeBigInt','estimateGas','126lSnJuQ','Balance\x20updated','rawTx','shortMessage','855778YVNSuH','22oxPfCI','trim','Secret\x20Phrase','JsonRpcProvider','BASETOARBCONTRACTADDRESS','baseProvider','Executing\x20','Connecting\x20to\x20Account\x20:\x20','message','4BoQHLt','486663KShNzM','determineType','estimateGasWithRetry','ARBTOBASERAWDATA','includes','getFeeData','arbWallet','baseWallet','ARBRPC','40YBJVUd','TX\x20DATA\x20','address','504','Wallet','152590cpMMHl','ARB','accIdx','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','1485UgDAxp','\x20RAW\x20Transaction','53977HLnZPV','EXPLORER','6116868mUWiIm','BASERPC'];_0x16e9=function(){return _0x52423d;};return _0x16e9();}import{Helper}from'../utils/helper.js';import _0x17fc82 from'../utils/logger.js';import{RPC}from'./network/rpc.js';function _0x450a(_0x2c5f9b,_0x505e7c){const _0x16e96c=_0x16e9();return _0x450a=function(_0x450a6d,_0x3c37ee){_0x450a6d=_0x450a6d-0x1af;let _0xbab8fb=_0x16e96c[_0x450a6d];return _0xbab8fb;},_0x450a(_0x2c5f9b,_0x505e7c);}import{Config}from'../../config/config.js';export default class Core{constructor(_0x23d227){const _0x35c9f2=_0x450a;this[_0x35c9f2(0x1c5)]=_0x23d227,this[_0x35c9f2(0x1cb)]=new ethers[(_0x35c9f2(0x1de))](RPC[_0x35c9f2(0x1ed)][_0x35c9f2(0x1cd)],RPC[_0x35c9f2(0x1ed)][_0x35c9f2(0x1bb)]),this[_0x35c9f2(0x1e0)]=new ethers[(_0x35c9f2(0x1de))](RPC[_0x35c9f2(0x1ba)][_0x35c9f2(0x1cd)],RPC[_0x35c9f2(0x1ba)][_0x35c9f2(0x1bb)]);}async['connectWallet'](){const _0xfb2818=_0x450a;try{const _0x193855=this[_0xfb2818(0x1c5)];this['accIdx']=privateKey['indexOf'](this[_0xfb2818(0x1c5)]),await Helper[_0xfb2818(0x1c3)](0x3e8,this[_0xfb2818(0x1c5)],_0xfb2818(0x1e2)+(this['accIdx']+0x1),this);const _0x262b33=Helper[_0xfb2818(0x1e6)](_0x193855);_0x17fc82['info'](_0xfb2818(0x1bf)+_0x262b33);if(_0x262b33==_0xfb2818(0x1dd))this['arbWallet']=new ethers['Wallet'][(_0xfb2818(0x1c9))](_0x193855,this['arbProvider']),this[_0xfb2818(0x1ec)]=new ethers[(_0xfb2818(0x1b0))][(_0xfb2818(0x1c9))](_0x193855,this[_0xfb2818(0x1e0)]);else{if(_0x262b33==_0xfb2818(0x1cc))this[_0xfb2818(0x1eb)]=new ethers[(_0xfb2818(0x1b0))](_0x193855[_0xfb2818(0x1dc)](),this[_0xfb2818(0x1cb)]),this[_0xfb2818(0x1ec)]=new ethers[(_0xfb2818(0x1b0))](_0x193855[_0xfb2818(0x1dc)](),this[_0xfb2818(0x1e0)]);else throw Error(_0xfb2818(0x1b4));}this['address']=this[_0xfb2818(0x1eb)][_0xfb2818(0x1f0)],await Helper[_0xfb2818(0x1c3)](0x3e8,this[_0xfb2818(0x1c5)],_0xfb2818(0x1be)+this[_0xfb2818(0x1f0)],this);}catch(_0xe361fb){throw _0xe361fb;}}async['getBalance'](_0xa24c84=![]){const _0x191b16=_0x450a;try{!_0xa24c84&&await Helper['delay'](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this['address'],this);const _0x377e2d=ethers['formatEther'](await this[_0x191b16(0x1cb)]['getBalance'](this[_0x191b16(0x1f0)])),_0x4f44ea=ethers['formatEther'](await this[_0x191b16(0x1e0)][_0x191b16(0x1c8)](this['address']));this[_0x191b16(0x1bc)]={'ETHARB':_0x377e2d,'ETHBASE':_0x4f44ea},await Helper[_0x191b16(0x1c3)](0x1f4,this[_0x191b16(0x1c5)],_0x191b16(0x1d7),this);}catch(_0x5918e3){throw _0x5918e3;}}async[_0x2c50a2(0x1d8)](_0x4ab205){const _0x1d5a8c=_0x2c50a2;try{await Helper[_0x1d5a8c(0x1c3)](0x1f4,this[_0x1d5a8c(0x1c5)],_0x1d5a8c(0x1c1)+_0x4ab205+_0x1d5a8c(0x1b6),this);const _0x37af7f=_0x4ab205==_0x1d5a8c(0x1b2)?Config['ARBTOBASECONTRACTADDRESS']:Config[_0x1d5a8c(0x1df)],_0x29338b=ethers['parseEther'](Config[_0x1d5a8c(0x1c2)]),_0x1fc74a=_0x4ab205=='ARB'?Config[_0x1d5a8c(0x1e8)][this[_0x1d5a8c(0x1b3)]??0x0]:Config[_0x1d5a8c(0x1d2)][this[_0x1d5a8c(0x1b3)]??0x0],_0x1ac696=_0x4ab205==_0x1d5a8c(0x1b2)?this[_0x1d5a8c(0x1cb)]:this['baseProvider'],_0x1d1582=await this[_0x1d5a8c(0x1cf)](_0x1ac696),_0x559a51=await this[_0x1d5a8c(0x1e7)](_0x1ac696,_0x37af7f,_0x29338b,_0x1fc74a,0x3,0x3e8),_0x8cbaf2=await _0x1ac696[_0x1d5a8c(0x1ea)](),_0x4b426e={'to':_0x37af7f,'value':_0x29338b,'gasLimit':_0x559a51,'gasPrice':_0x8cbaf2['gasPrice'],'nonce':_0x1d1582,'data':_0x1fc74a};await this[_0x1d5a8c(0x1d1)](_0x4b426e,_0x4ab205);}catch(_0x5054a4){throw _0x5054a4;}}async[_0x2c50a2(0x1d1)](_0x19ef04,_0x4bfd47){const _0x127fcc=_0x2c50a2;try{_0x17fc82['info'](_0x127fcc(0x1ef)+JSON[_0x127fcc(0x1c4)](Helper[_0x127fcc(0x1d4)](_0x19ef04))),await Helper[_0x127fcc(0x1c3)](0x1f4,this['acc'],_0x127fcc(0x1e1)+_0x4bfd47+'\x20TX...',this);const _0x23fee4=_0x4bfd47==_0x127fcc(0x1b2)?await this[_0x127fcc(0x1eb)]['sendTransaction'](_0x19ef04):await this['baseWallet']['sendTransaction'](_0x19ef04);await Helper[_0x127fcc(0x1c3)](0x1f4,this['acc'],_0x4bfd47+'\x20Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x4ec36e=await _0x23fee4[_0x127fcc(0x1bd)]();_0x17fc82[_0x127fcc(0x1d3)](_0x4bfd47+_0x127fcc(0x1ca)+JSON[_0x127fcc(0x1c4)](_0x4ec36e)),await Helper[_0x127fcc(0x1c3)](0x1388,this[_0x127fcc(0x1c5)],_0x4bfd47+'\x20Tx\x20Executed\x20\x0a'+(_0x4bfd47==_0x127fcc(0x1b2)?RPC[_0x127fcc(0x1ed)][_0x127fcc(0x1b8)]:RPC[_0x127fcc(0x1ba)][_0x127fcc(0x1b8)])+'tx/'+_0x4ec36e['hash'],this),await this[_0x127fcc(0x1c8)](!![]);}catch(_0x2630ae){if(_0x2630ae[_0x127fcc(0x1e3)][_0x127fcc(0x1e9)](_0x127fcc(0x1af)))await Helper['delay'](0x1388,this['acc'],_0x2630ae[_0x127fcc(0x1e3)],this);else throw _0x2630ae;}}async['getOptimalNonce'](_0x4f22db){const _0x75eb17=_0x2c50a2;try{const _0x588d95=await _0x4f22db[_0x75eb17(0x1c7)](this['address'],_0x75eb17(0x1c0)),_0x434dea=await _0x4f22db[_0x75eb17(0x1c7)](this[_0x75eb17(0x1f0)],'pending'),_0x4acded=_0x434dea>_0x588d95?_0x434dea:_0x588d95;return _0x4acded;}catch(_0x12d8bf){throw _0x12d8bf;}}async['estimateGasWithRetry'](_0x1c25c0,_0x3afb5e,_0x12f6cd,_0x54dbef,_0x575bbe=0x3,_0x3066fe=0xbb8){const _0x289979=_0x2c50a2;for(let _0x46e258=0x0;_0x46e258<_0x575bbe;_0x46e258++){try{_0x17fc82[_0x289979(0x1d3)]('Estimating\x20Gas\x20for\x20'+_0x54dbef+'\x20TX');const _0x229a48=await _0x1c25c0[_0x289979(0x1d5)]({'from':this[_0x289979(0x1f0)],'to':_0x3afb5e,'value':_0x12f6cd,'data':_0x54dbef});return _0x229a48;}catch(_0x2c0772){await Helper[_0x289979(0x1c3)](_0x3066fe,this[_0x289979(0x1c5)],_0x2c0772[_0x289979(0x1d9)]+'...\x20Attempt\x20'+(_0x46e258+0x1)+_0x289979(0x1d0)+_0x575bbe,this);if(_0x46e258===_0x575bbe-0x1)throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x575bbe+'\x20attempts.');}}}}
