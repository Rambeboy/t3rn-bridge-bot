const _0x4d2044=_0x455e;(function(_0x4f089b,_0x2920b0){const _0x3d49fa=_0x455e,_0x127f2c=_0x4f089b();while(!![]){try{const _0x536c0b=-parseInt(_0x3d49fa(0x109))/0x1+-parseInt(_0x3d49fa(0xdb))/0x2+parseInt(_0x3d49fa(0xfe))/0x3*(-parseInt(_0x3d49fa(0x112))/0x4)+-parseInt(_0x3d49fa(0x114))/0x5+-parseInt(_0x3d49fa(0xe4))/0x6*(-parseInt(_0x3d49fa(0xd4))/0x7)+parseInt(_0x3d49fa(0xf4))/0x8+parseInt(_0x3d49fa(0xea))/0x9*(parseInt(_0x3d49fa(0xf7))/0xa);if(_0x536c0b===_0x2920b0)break;else _0x127f2c['push'](_0x127f2c['shift']());}catch(_0x3e9ab5){_0x127f2c['push'](_0x127f2c['shift']());}}}(_0x3752,0x363dc));function _0x3752(){const _0x52ea71=['7PJPIVJ','getOptimalNonce','getTransactionCount','arbWallet','JsonRpcProvider','ARB','Try\x20To\x20Executing\x20','498348agoOSL','Wallet\x20connected\x20','Estimating\x20Gas\x20for\x20','ARBRPC','\x20of\x20','BASERPC','\x20TX...','connectWallet','baseWallet','2160630FzHrLz','Private\x20Key','estimateGas','acc','\x20Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...','formatEther','1852119jXEJzv','executeTx','rawTx','\x20RAW\x20Transaction','EXPLORER','delay','estimateGasWithRetry','getBalance','indexOf','\x20Tx\x20Executed\x20\x0a','18632yEQdNk','Executing\x20','tx/','40AACqiz','\x20TX','Failed\x20to\x20estimate\x20gas\x20after\x20','\x20Tx\x20Confirmed\x20and\x20Finalizing:\x20','sendTransaction','...\x20Attempt\x20','parseEther','3roVIWI','BASETOARBRAWDATA','Wallet','Account\x20Type\x20:\x20','fromPhrase','RPC','determineType','arbProvider','ARBTOBASERAWDATA','address','shortMessage','73854eUOmAC','accIdx','hash','Secret\x20Phrase','stringify','Getting\x20Wallet\x20Balance\x20of\x20','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','info','BRIDGEAMOUNT','809876BgjdXs','504','2189645aWbDeX','pending','gasPrice','Balance\x20updated','baseProvider'];_0x3752=function(){return _0x52ea71;};return _0x3752();}import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import _0xd8df09 from'../utils/logger.js';import{RPC}from'./network/rpc.js';function _0x455e(_0x6556a,_0xcdc628){const _0x37521b=_0x3752();return _0x455e=function(_0x455e84,_0x4c85f7){_0x455e84=_0x455e84-0xd0;let _0x51046d=_0x37521b[_0x455e84];return _0x51046d;},_0x455e(_0x6556a,_0xcdc628);}import{Config}from'../../config/config.js';export default class Core{constructor(_0x3e8cf9){const _0x5270cf=_0x455e;this[_0x5270cf(0xe7)]=_0x3e8cf9,this[_0x5270cf(0x105)]=new ethers[(_0x5270cf(0xd8))](RPC['ARBRPC'][_0x5270cf(0x103)],RPC[_0x5270cf(0xde)]['CHAIN_ID']),this[_0x5270cf(0xd3)]=new ethers[(_0x5270cf(0xd8))](RPC[_0x5270cf(0xe0)]['RPC'],RPC[_0x5270cf(0xe0)]['CHAIN_ID']);}async[_0x4d2044(0xe2)](){const _0x458f82=_0x4d2044;try{const _0x142333=this['acc'];this[_0x458f82(0x10a)]=privateKey[_0x458f82(0xf2)](this[_0x458f82(0xe7)]),await Helper[_0x458f82(0xef)](0x3e8,this[_0x458f82(0xe7)],'Connecting\x20to\x20Account\x20:\x20'+(this[_0x458f82(0x10a)]+0x1),this);const _0x26d812=Helper[_0x458f82(0x104)](_0x142333);_0xd8df09[_0x458f82(0x110)](_0x458f82(0x101)+_0x26d812);if(_0x26d812==_0x458f82(0x10c))this[_0x458f82(0xd7)]=new ethers['Wallet'][(_0x458f82(0x102))](_0x142333,this['arbProvider']),this[_0x458f82(0xe3)]=new ethers['Wallet'][(_0x458f82(0x102))](_0x142333,this[_0x458f82(0xd3)]);else{if(_0x26d812==_0x458f82(0xe5))this[_0x458f82(0xd7)]=new ethers[(_0x458f82(0x100))](_0x142333['trim'](),this[_0x458f82(0x105)]),this[_0x458f82(0xe3)]=new ethers['Wallet'](_0x142333['trim'](),this[_0x458f82(0xd3)]);else throw Error(_0x458f82(0x10f));}this[_0x458f82(0x107)]=this[_0x458f82(0xd7)][_0x458f82(0x107)],await Helper[_0x458f82(0xef)](0x3e8,this[_0x458f82(0xe7)],_0x458f82(0xdc)+this[_0x458f82(0x107)],this);}catch(_0x123126){throw _0x123126;}}async['getBalance'](_0x3ad180=![]){const _0x17601d=_0x4d2044;try{!_0x3ad180&&await Helper[_0x17601d(0xef)](0x1f4,this['acc'],_0x17601d(0x10e)+this[_0x17601d(0x107)],this);const _0x4b5b1d=ethers[_0x17601d(0xe9)](await this[_0x17601d(0x105)][_0x17601d(0xf1)](this[_0x17601d(0x107)])),_0xd9256d=ethers[_0x17601d(0xe9)](await this[_0x17601d(0xd3)][_0x17601d(0xf1)](this[_0x17601d(0x107)]));this['balance']={'ETHARB':_0x4b5b1d,'ETHBASE':_0xd9256d},await Helper[_0x17601d(0xef)](0x1f4,this[_0x17601d(0xe7)],_0x17601d(0xd2),this);}catch(_0x178c56){throw _0x178c56;}}async[_0x4d2044(0xec)](_0x396306){const _0x10f9c4=_0x4d2044;try{await Helper[_0x10f9c4(0xef)](0x1f4,this['acc'],_0x10f9c4(0xda)+_0x396306+_0x10f9c4(0xed),this);const _0x2f0587=_0x396306==_0x10f9c4(0xd9)?Config['ARBTOBASECONTRACTADDRESS']:Config['BASETOARBCONTRACTADDRESS'],_0x33478e=ethers[_0x10f9c4(0xfd)](Config[_0x10f9c4(0x111)]),_0x5d426c=_0x396306==_0x10f9c4(0xd9)?Config[_0x10f9c4(0x106)][this[_0x10f9c4(0x10a)]??0x0]:Config[_0x10f9c4(0xff)][this[_0x10f9c4(0x10a)]??0x0],_0x322eeb=_0x396306==_0x10f9c4(0xd9)?this['arbProvider']:this[_0x10f9c4(0xd3)],_0x4ab45f=await this[_0x10f9c4(0xd5)](_0x322eeb),_0x4e89a1=await this[_0x10f9c4(0xf0)](_0x322eeb,_0x2f0587,_0x33478e,_0x5d426c,0x3,0x3e8),_0x979729=await _0x322eeb['getFeeData'](),_0x67e4ef={'to':_0x2f0587,'value':_0x33478e,'gasLimit':_0x4e89a1,'gasPrice':_0x979729[_0x10f9c4(0xd1)],'nonce':_0x4ab45f,'data':_0x5d426c};await this[_0x10f9c4(0xeb)](_0x67e4ef,_0x396306);}catch(_0x4519fa){throw _0x4519fa;}}async[_0x4d2044(0xeb)](_0x166f7a,_0x443f93){const _0x15341f=_0x4d2044;try{_0xd8df09[_0x15341f(0x110)]('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x166f7a))),await Helper[_0x15341f(0xef)](0x1f4,this[_0x15341f(0xe7)],_0x15341f(0xf5)+_0x443f93+_0x15341f(0xe1),this);const _0x109f81=_0x443f93==_0x15341f(0xd9)?await this[_0x15341f(0xd7)][_0x15341f(0xfb)](_0x166f7a):await this[_0x15341f(0xe3)]['sendTransaction'](_0x166f7a);await Helper['delay'](0x1f4,this[_0x15341f(0xe7)],_0x443f93+_0x15341f(0xe8),this);const _0x2b332a=await _0x109f81['wait']();_0xd8df09['info'](_0x443f93+_0x15341f(0xfa)+JSON[_0x15341f(0x10d)](_0x2b332a)),await Helper[_0x15341f(0xef)](0x1388,this['acc'],_0x443f93+_0x15341f(0xf3)+(_0x443f93==_0x15341f(0xd9)?RPC[_0x15341f(0xde)][_0x15341f(0xee)]:RPC['BASERPC']['EXPLORER'])+_0x15341f(0xf6)+_0x2b332a[_0x15341f(0x10b)],this),await this[_0x15341f(0xf1)](!![]);}catch(_0x2b4689){if(_0x2b4689['message']['includes'](_0x15341f(0x113)))await Helper[_0x15341f(0xef)](0x1388,this[_0x15341f(0xe7)],_0x2b4689['message'],this);else throw _0x2b4689;}}async['getOptimalNonce'](_0x47df71){const _0x2a7d8e=_0x4d2044;try{const _0x2c2bef=await _0x47df71[_0x2a7d8e(0xd6)](this[_0x2a7d8e(0x107)],'latest'),_0x5f57d7=await _0x47df71['getTransactionCount'](this['address'],_0x2a7d8e(0xd0)),_0x49fa75=_0x5f57d7>_0x2c2bef?_0x5f57d7:_0x2c2bef;return _0x49fa75;}catch(_0xa037b7){throw _0xa037b7;}}async[_0x4d2044(0xf0)](_0x3c7c68,_0x171908,_0x303c64,_0x3cebd0,_0x69c36a=0x3,_0x1dd3d2=0xbb8){const _0x216f1b=_0x4d2044;for(let _0x27bf5f=0x0;_0x27bf5f<_0x69c36a;_0x27bf5f++){try{_0xd8df09['info'](_0x216f1b(0xdd)+_0x3cebd0+_0x216f1b(0xf8));const _0x2471a7=await _0x3c7c68[_0x216f1b(0xe6)]({'from':this[_0x216f1b(0x107)],'to':_0x171908,'value':_0x303c64,'data':_0x3cebd0});return _0x2471a7;}catch(_0x4f5d55){await Helper[_0x216f1b(0xef)](_0x1dd3d2,this[_0x216f1b(0xe7)],_0x4f5d55[_0x216f1b(0x108)]+_0x216f1b(0xfc)+(_0x27bf5f+0x1)+_0x216f1b(0xdf)+_0x69c36a,this);if(_0x27bf5f===_0x69c36a-0x1)throw Error(_0x216f1b(0xf9)+_0x69c36a+'\x20attempts.');}}}}
